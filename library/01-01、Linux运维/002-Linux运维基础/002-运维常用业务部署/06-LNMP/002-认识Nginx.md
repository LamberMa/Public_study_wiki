## 认识Ningx
Nginx是一个开源的，支持高性能，高并发的www服务和代理服务软件。（engine x）
Nginx具有高并发（静态资源，小文件），占用系统资源少等特性，且功能逐渐完善
具有web服务软件的功能，还具有反向代理负载均衡功能和缓存服务功能，在反向代理负载均衡方面类似于LVS负载均衡以及Haproxy专业代理软件，但是Nginx部署起来更为简单，方便，在缓存功能方面它又类似于squid等专业的缓存服务软件

## Nginx HTTP服务器的特色以及优点：
1. 支持高并发。能支持几万并发连接（特别是静态小文件业务环境）
2. 资源消耗少：在3万并发连接下，开启10个nginx线程消耗不到200M内存
3. 可以做HTTP反向代理及加速缓存，即负债均衡功能，内置对RS节点服务器健康检查功能，这相当于专业的haproxy软件或lvs功能
4. 具备squid等专业缓存软件等的缓存功能
5. 支持异步网络IO时间模型epoll（Linux2.6+）

**关于同步和异步**

类似于UDP和TCP的无链接的和有链接的。同步的效率并不高。但是异步效率高也有缺点，就是类似于UDP，安全性可靠性不高。
## 代理
- 反向代理：代替外部用户请求web服务器
- 正向代理：服务器通过代理服务器去访问一些网站，这叫正向代理。

## Nginx做为web服务器的主要应用场景：
1. 使用Nginx运行HTML、JS、CSS、小图片等静态数据（此功能类似Lighttpd软件）
2. Ngiinx结合FastCGI运行PHP等动态程序（例如fastcgi_pass方式）
3. Nginx结合tomcat/resin等支持Java动态程序（常用proxy_pass方式）

## 模型
- Apache：基于传统的select模型（同步）。并发能力有限。
- Nginx：不支持类似apache的DSO模式，扩展库必须编译进主程序（缺点）

***
### epoll模型和select 模型：
##### epoll是异步的
宿舍房间有多间，你的朋友来找你，select版本的大妈会带着你的朋友挨个房间去找，直到找到为止，epoll大妈会先记录下每位入住同学的房间号，当你的朋友来找你时，只需要告诉你的朋友你住在哪个房间里就可以了。如果同时来了100个人，epoll和select大妈的效率就立竿见影了。


##### select是同步的
另外一种理解：select的调度复杂度是线性的，举个例子，一个保姆照看一群孩子，如果把孩子是否需要尿尿比作是网络的IO事件，select的作用就好比这个保姆挨个询问每一个孩子是否要尿尿，如果孩子回答是的话，那么保姆则把还自己领出来放到另外一个地方。当所有孩子询问完以后，保姆领着这些要尿尿的孩子去上厕所（处理网络IO事件）
还是以保姆照看一群孩子为例，在epoll机制下，保姆不再需要挨个询问每个孩子是否需要尿尿，取而代之的是，每个孩子如果想尿尿的话，自己主动的站到事先约定好的地方，而保姆的职责就是查看事先约定好的地方是否有孩子，如果有就带着小孩子去上厕所（处理IO事件），因此，epoll这种机制，能够高效的处理成千上万的并发连接，而且性能不会随着连接数增加而下降太多。

静态高并发首选nginx
避免同一个业务使用多款软件
